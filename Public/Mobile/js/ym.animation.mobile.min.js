if (!jQuery) { throw new Error("nsmart requires jQuery") } +function (c, d, a, f) { var e = function (h, g) { this.$element = d(h); this.options = d.extend({}, e.DEFAULTS, g); this.initTop = this.$element.position().top; this.initLeft = this.$element.position().left }; e.VERSION = "0.0.2"; e.DEFAULTS = { threshold: 0 }; e.prototype.belowthefold = function (g, i) { var h; if (i.container === f || i.container === c) { var j = d(c); h = (c.innerHeight ? c.innerHeight : j.height()) + j.scrollTop() } else { h = d(i.container).offset().top + d(i.container).height() } return h <= g.offset().top - i.threshold }; e.prototype.rightoffold = function (g, i) { var h; if (i.container === f || i.container === c) { var j = d(c); h = j.width() + j.scrollLeft() } else { h = d(i.container).offset().left + d(i.container).width() } return h <= g.offset().left - i.threshold }; e.prototype.abovethetop = function (g, i) { var h; if (i.container === f || i.container === c) { h = d(c).scrollTop() } else { h = d(i.container).offset().top } return h >= g.offset().top + i.threshold + g.height() }; e.prototype.leftofbegin = function (g, i) { var h; if (i.container === f || i.container === c) { h = d(c).scrollLeft() } else { h = d(i.container).offset().left } return h >= g.offset().left + i.threshold + g.width() }; e.prototype.animate = function (g) { if (this.abovethetop(this.$element, this.options) || this.leftofbegin(this.$element, this.options)) { } else { if (!this.belowthefold(this.$element, this.options) && !this.rightoffold(this.$element, this.options) && typeof this.$element.attr("sm-finished") === "undefined") { this.play() } } }; e.prototype.destory = function () { this.$element.hide().removeClass("sm-animate").removeAttr("sm-finished") }; e.prototype.play = function () { var i = this.$element.attr("sm-finished"); var g = this.options.delay; var h = this; if (typeof i === "undefined") { if (typeof g !== "undefined" && g > 0) { setTimeout(function () { h.$element.show().css({ "opacity": "1" }).addClass("sm-animate").attr("sm-finished", true) }, g) } else { this.$element.show().css({ "opacity": "1" }).addClass("sm-animate").attr("sm-finished", true) } } }; e.prototype.stop = function () { this.$element.removeClass("sm-animate") }; e.prototype.prev = function () { this.$element.removeClass("sm-animate"); var g = this; setTimeout(function () { g.$element.addClass("sm-animate") }, 200) }; e.prototype.reverse = function () { }; function b(h) { var g = h; var i = this; d(c).on("scroll", function () { i.each(function () { var k = d(this); var j = k.data("smart.animation"); if (j) { j.animate() } }) }); return this.each(function () { var k = g; var n = typeof k == "string" && k; var j = this; var o = d(j); if (k == null || typeof (k) === "undefined") { var m = o.attr("yibuAnimate"); if (typeof (m) != "undefined") { k = JSON.parse(m) } } var l = o.data("smart.animation"); if (!l) { if (typeof (k) === "object") { o.data("smart.animation", (l = new e(this, k))); l.animate() } else { k = {}; o.data("smart.animation", (l = new e(this, k))); l.animate() } } else { if (n) { l[k]() } else { l.options = d.extend({}, e.DEFAULTS, l.options); l.animate() } } }) } d.fn.smanimate = b; d.fn.smanimate.Constructor = e }(typeof window === "undefined" ? this : window, jQuery, document);